---
# tasks file for device_facts_uve
- set_fact:
    job_ctx: "{{job_ctx|combine(percent_init_dict)}}"

- name: Get device facts
  include_tasks: "../../{{prouter_vendor}}_device_roles/tasks/{{prouter_os}}_facts.yml"

- set_fact: 
    device_info: "{{device_info.facts}}"

- set_fact:
    hardware_model: "{{device_info.model}}"
    serial_number: "{{device_info.serialnumber}}"
    os_version: "{{device_info.version}}"
    hostname: "{{device_info.hostname}}"

- name: Update Job log with device_facts successs
  job_objectlog:
    job_ctx: "{{ job_ctx }}"
    status: "{{ JOBLOG_STATUS.IN_PROGRESS }}"
    message: "Obtained operational state information for {{prouter_vendor}} device: [SerialNo: {{serial_number}}, os_version: {{os_version}}, H/W Model: {{hardware_model}}, hostname: {{hostname}}]"
    device_name: "{{prouter_name}}"
