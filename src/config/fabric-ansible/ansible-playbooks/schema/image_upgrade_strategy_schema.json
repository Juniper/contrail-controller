{
  "input_schema": {
    "title": "Image upgrade strategy input",
    "$schema": "http://json-schema.org/draft-06/schema#",
    "type": "object",
    "additionalProperties": false,
    "required": [
      ""
    ],
    "properties": {
      "image_devices": {
        "type": "array",
        "items": {
          "title": "Image Devices",
          "type": "object",
          "description": "List of images and corresponding devices to upgrade",
          "additionalProperties": false,
          "properties": {
            "image_name": {
              "type": "string"
            },
            "device_list": {
              "type": "array",
              "description": "List of device UUIDs to be upgraded with this image",
              "items": {
                "title": "device uuid",
                "type": "string",
                "format": "uuid"
              }
            }
          },
          "required": [ "image_name", "device_list" ]
        }
      },
      "advanced_parameters": {
        "title": "Advanced parameters",
        "description": "Optional parameters used to override defaults",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "bulk_device_upgrade_count": {
            "type": "integer",
            "description": "Maximum number of devices to upgrade simultaneously",
            "default": 4
          },
          "bulk_device_upgrade_count_check": {
            "type": "boolean",
            "description": "Enable/disable bulk_device_upgrade_count check",
            "default": true
          },
          "bgp_flap_count": {
            "type": "integer",
            "description": "Number of flaps allowed for BGP neighbors",
            "default": 4
          },
          "bgp_flap_count_check": {
            "type": "boolean",
            "description": "Enable/disable bgp_flap_count check",
            "default": true
          },
          "bgp_down_peer_count": {
            "type": "integer",
            "description": "Number of down peers allowed",
            "default": 0
          },
          "bgp_down_peer_count_check": {
            "type": "boolean",
            "description": "Enable/disable bgp_down_peer_count check",
            "default": true
          },
          "system_alarm_count": {
            "type": "integer",
            "description": "Number of system alarms allowed",
            "default": 0
          },
          "system_alarm_count_check": {
            "type": "boolean",
            "description": "Enable/disable system_alarm_count check",
            "default": true
          },
          "chassis_alarm_count": {
            "type": "integer",
            "description": "Number of chassis alarms allowed",
            "default": 0
          },
          "chassis_alarm_count_check": {
            "type": "boolean",
            "description": "Enable/disable chassis_alarm_count check",
            "default": true
          },
          "interface_error_count": {
            "type": "integer",
            "description": "Number of interface errors allowed",
            "default": 0
          },
          "interface_error_count_check": {
            "type": "boolean",
            "description": "Enable/disable interface_error_count check",
            "default": true
          },
          "interface_drop_count": {
            "type": "integer",
            "description": "Number of interface drops allowed",
            "default": 0
          },
          "interface_drop_count_check": {
            "type": "boolean",
            "description": "Enable/disable interface_drop_count check",
            "default": true
          },
          "interface_carrier_transition_count": {
            "type": "integer",
            "description": "Number of interface carrier transitions allowed",
            "default": 0
          },
          "interface_carrier_transition_count_check": {
            "type": "boolean",
            "description": "Enable/disable interface_carrier_transition_count check",
            "default": true
          }
        }
      }
    }
  },
  "output_schema": {
    "$schema": "http://json-schema.org/draft-06/schema#",
    "title": "Generic Job Output",
    "type": "object",
    "properties": {
       "status": {
          "type": "string",
          "enum": [ "Success", "Failure", "Timeout" ],
          "description": "Result status of the job"
       },
       "message": {
          "type": "string",
          "description": "Should capture a summarized error message in case of Failures."
       },
       "results": {
          "type": "object",
          "description": "JSON object holding the job specific output details"
       }
    },
    "required": [ "status" ]
  }
}
