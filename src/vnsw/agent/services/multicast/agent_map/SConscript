#
# Copyright (c) 2018 Juniper Networks, Inc. All rights reserved.
#

# -*- mode: python; -*-
# services directory

import sys
if sys.platform == 'darwin':
    Return()

Import('AgentEnv')
env = AgentEnv.Clone()

except_env = env.Clone()
cflags = except_env['CCFLAGS']
if '-fno-exceptions' in cflags:
   cflags.remove('-fno-exceptions')
except_env.Replace(CCFLAGS=cflags)

env.Append(CPPPATH = '../common')
env.Append(CPPPATH = '../gmp_map')
env.Append(CPPPATH = '../grpmgmt')
env.Append(CPPPATH = '../stubs')
env.Append(CPPPATH = '.')

libagent_map = env.Library('agent_map',
                    [
                    'task_block_api.cc',
                    'task_thread_api.cc',
                    'task_timer_api.cc',
                    'patricia_api.cc',
                    'gmpx_environment.c',
                    '../stubs/bitvector/bitvector.c',
                    '../stubs/bitvector/ordinal.c',
                     ])

